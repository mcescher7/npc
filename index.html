<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fantasy Football Stats</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>
    <h1>Fantasy Football Stats</h1>
    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Position</th>
                <th>Team</th>
                <th>Points</th>
            </tr>
        </thead>
        <tbody id="data-table">
            <!-- Daten werden hier eingefügt -->
        </tbody>
    </table>

    <script>
        const SUPABASE_URL = "https://hcjinenoxuulhcoadmgh.supabase.co"; // Deine Supabase-URL
        const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhjamluZW5veHV1bGhjb2FkbWdoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzgxODMzNjMsImV4cCI6MjA1Mzc1OTM2M30.LSNcn8Vl0D5Admpc5S7gyS2HkTGJr0fe30JdiJJOfC0"; // Dein neuer API-Schlüssel

        const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        async function loadData() {
            const { data, error } = await supabase
                .from("seasons") // Ersetze mit deinem Tabellennamen
                .select("*")
                .limit(10); // Limitiert auf 10 Einträge

            if (error) {
                console.error("Fehler beim Laden der Daten:", error);
                return;
            }

            const tableBody = document.getElementById("data-table");
            tableBody.innerHTML = ""; // Alte Daten löschen

            data.forEach(row => {
                const tr = document.createElement("tr");
                tr.innerHTML = `
                    <td>${row.id}</td>
                    <td>${row.name}</td>
                    <td>${row.position}</td>
                    <td>${row.team}</td>
                    <td>${row.points}</td>
                `;
                tableBody.appendChild(tr);
            });
        }

        loadData();
    </script>
</body>
</html>
